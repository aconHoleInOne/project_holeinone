{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\awd63\\\\Downloads\\\\AIhomeTraining_web-master\\\\AIhomeTraining_web-master\\\\Listener\\\\frontend\\\\src\\\\components\\\\exercises\\\\Check.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport { Animated } from \"react-animated-css\";\nimport LoadingBar from '../common/LoadingBar';\nimport Responsive from '../common/Responsive';\nimport ExerciseResult from './ExerciseResult';\nconst Wrapper1 = styled.div`\n  position:relative;\n  text-align: center;\n`;\n_c = Wrapper1;\nconst Wrapper2 = styled.div`\nheight : 500px;\n  position:relative;\n  text-align: center;\n`;\n_c2 = Wrapper2;\nconst Loading = styled(Responsive)`\n    display: flex;\n    width: 100%;\n    align-items: center;\n\n`;\n_c3 = Loading;\nconst Spacer = styled.div`\n  height: 5rem;\n  `;\n_c4 = Spacer;\n\nconst Check = ({\n  analysis,\n  cntArr\n}) => {\n  _s();\n\n  const [showResults, setShowResults] = useState(false);\n  const [trainerAngle, setTrainer] = useState([]);\n  const [result, setResult] = useState([]);\n  const [loading, setLoading] = useState(false);\n  let existS = 1,\n      existL = 1,\n      existP = 1;\n  let mistakes = [{\n    squat: [],\n    lungeL: [],\n    lungeR: [],\n    press: [],\n    tree: []\n  }];\n  let userAngle = [{\n    exname: \"스쿼트\",\n    angle: []\n  }, {\n    exname: \"사이드 런지 왼쪽\",\n    angle: []\n  }, {\n    exname: \"사이드 런지 오른쪽\",\n    angle: []\n  }, {\n    exname: \"숄더 프레스\",\n    angle: []\n  }, {\n    exname: \"나무 자세\",\n    angle: []\n  }];\n\n  const angle = exer => {\n    //user의 좌표로 8개의 인체 각도 계산\n    let idx = 0;\n\n    if (exer.exname == \"사이드 런지 왼쪽\") {\n      idx = 1;\n    } else if (exer.exname == \"사이드 런지 오른쪽\") {\n      idx = 2;\n    } else if (exer.exname == \"숄더프레스\") {\n      idx = 3;\n    } else if (exer.exname == \"나무 자세\") {\n      idx = 4;\n    }\n\n    const inputX = exer.x,\n          inputY = exer.y; //왼쪽 허리 부분 (상체-하체)\n\n    userAngle[idx].angle.push((Math.abs(Math.atan2(inputY[13] - inputY[11], inputX[13] - inputX[11])) + Math.abs(Math.atan2(inputY[5] - inputY[11], inputX[5] - inputX[11]))) * (180 / Math.PI)); //오른쪽 허리 부분 (상체-하체)\n\n    userAngle[idx].angle.push(360 - (Math.abs(Math.atan2(inputY[14] - inputY[12], inputX[14] - inputX[12])) + Math.abs(Math.atan2(inputY[6] - inputY[12], inputX[6] - inputX[12]))) * (180 / Math.PI)); //왼쪽 상체 팔(겨드랑이 부분)\n\n    userAngle[idx].angle.push((Math.abs(Math.atan2(inputY[11] - inputY[5], inputX[11] - inputX[5])) + Math.abs(Math.atan2(inputY[7] - inputY[5], inputX[7] - inputX[5]))) * (180 / Math.PI)); //오른쪽 상체 팔(겨드랑이 부분)\n\n    userAngle[idx].angle.push(360 - (Math.abs(Math.atan2(inputY[8] - inputY[6], inputX[8] - inputX[6])) + Math.abs(Math.atan2(inputY[12] - inputY[6], inputX[12] - inputX[6]))) * (180 / Math.PI)); //왼쪽 팔꿈치\n\n    userAngle[idx].angle.push((Math.abs(Math.atan2(inputY[9] - inputY[7], inputX[9] - inputX[7])) + Math.abs(Math.atan2(inputY[5] - inputY[7], inputX[5] - inputX[7]))) * (180 / Math.PI)); //오른쪽 팔꿈치 \n\n    userAngle[idx].angle.push(360 - (Math.abs(Math.atan2(inputY[10] - inputY[8], inputX[10] - inputX[8])) + Math.abs(Math.atan2(inputY[6] - inputY[8], inputX[6] - inputX[8]))) * (180 / Math.PI)); //왼쪽 무릎\n\n    userAngle[idx].angle.push(Math.abs(Math.atan2(inputY[15] - inputY[13], inputX[15] - inputX[13]) + Math.abs(Math.atan2(inputY[11] - inputY[13], inputX[11] - inputX[13]))) * (180 / Math.PI)); //오른쪽 무릎\n\n    userAngle[idx].angle.push(360 - Math.abs(Math.atan2(inputY[16] - inputY[14], inputX[16] - inputX[14]) + Math.abs(Math.atan2(inputY[12] - inputY[14], inputX[12] - inputX[14]))) * (180 / Math.PI));\n\n    if (idx == 4) {\n      calculateAngle();\n    }\n  };\n\n  const calculateAngle = () => {\n    //자세 분석 결과 저장\n    cntArr.map(item => {\n      if (item == 0) {\n        existS = 0;\n      } else if (item == 1 || item == 2) {\n        existL = 0;\n      } else if (item == 3) {\n        existP = 0;\n      }\n    });\n    let cmp = 0.0; //각도 차\n\n    let str = \"\";\n    let squatms = [],\n        lungeLms = [],\n        lungeRms = [],\n        pressms = [],\n        treems = [];\n\n    if (existS) {\n      if (userAngle[0].angle[0] == 0) {\n        str = \"운동을 진행해주세요\";\n        squatms.push(str);\n      } else {\n        //스쿼트\n        cmp = 360 - trainerAngle[0][\"0\"] - (360 - userAngle[0].angle[0]); //스쿼트 허리 계산\n\n        if (cmp > 15) {\n          str = \"상체를 조금 더 세우세요\";\n          squatms.push(str);\n        } else if (cmp < -15) {\n          str = \"상체를 조금 더 굽히세요\";\n          squatms.push(str);\n        }\n\n        cmp = trainerAngle[0][\"6\"] - userAngle[0].angle[6]; //스쿼트 무릎 계산\n\n        if (cmp > 15) {\n          str = \"엉덩이를 조금 더 드세요\";\n          squatms.push(str);\n        } else if (cmp < -15) {\n          str = \"엉덩이를 조금 더 내리세요\";\n          squatms.push(str);\n        }\n      }\n    } else {\n      str = '생략한 운동입니다';\n      squatms.push(str);\n    }\n\n    if (existL) {\n      if (userAngle[1].angle[6] == 0) {\n        str = \"운동을 진행해주세요\";\n        lungeLms.push(str);\n      } else {\n        //사이드 런지 왼쪽\n        cmp = 360 - trainerAngle[1][\"6\"] - (360 - userAngle[1].angle[6]); //런지 왼쪽 무릎\n\n        if (cmp < -15) {\n          str = \"왼쪽 무릎을 조금 더 굽히세요\";\n          lungeLms.push(str);\n        }\n\n        cmp = 360 - trainerAngle[1][\"7\"] - (360 - userAngle[1].angle[7]); /// 런지 오른쪽 무릎\n\n        if (cmp > 15 || cmp < -15) {\n          str = \"오른쪽 무릎을 조금 더 피세요\";\n          lungeLms.push(str);\n        }\n      }\n\n      if (userAngle[2].angle[6] == 0) {\n        str = \"운동을 진행해주세요\";\n        lungeRms.push(str);\n      } else {\n        //사이드 런지 오른쪽\n        cmp = 360 - trainerAngle[2][\"6\"] - (360 - userAngle[2].angle[6]); //런지 왼쪽 무릎\n\n        if (cmp > 15 || cmp < -15) {\n          str = \"왼쪽 무릎을 조금 더 피세요\";\n          lungeRms.push(str);\n        }\n\n        cmp = 360 - trainerAngle[2][\"7\"] - (360 - userAngle[2].angle[7]); //런지 오른쪽 무릎\n\n        if (cmp < -15) {\n          str = \"오른쪽 무릎을 조금 더 굽히세요\";\n          lungeRms.push(str);\n        }\n      }\n    } else {\n      str = '생략한 운동입니다';\n      lungeLms.push(str);\n      lungeRms.push(str);\n    }\n\n    if (existP) {\n      if (userAngle[3].angle[3] == 360) {\n        str = \"운동을 진행해주세요\";\n        pressms.push(str);\n      } else {\n        //숄더 프레스\n        cmp = trainerAngle[3][\"3\"] - userAngle[3].angle[3]; //프레스 오른쪽 겨드랑이\n\n        if (cmp > 15) {\n          str = \"오른쪽 팔을 더 올리세요\";\n          pressms.push(str);\n        }\n\n        cmp = trainerAngle[3][\"2\"] - userAngle[3].angle[2]; //프레스 왼쪽 겨드랑이\n\n        if (cmp > 15) {\n          str = \"왼쪽 팔을 더 올리세요\";\n          pressms.push(str);\n        }\n\n        cmp = 360 - trainerAngle[3][\"5\"] - (360 - userAngle[3].angle[5]); //프레스 오른쪽 팔꿈치\n\n        if (cmp > 15) {\n          str = \"오른쪽 팔을 더 피세요\";\n          pressms.push(str);\n        }\n\n        cmp = 360 - trainerAngle[3][\"4\"] - (360 - userAngle[3].angle[4]); //프레스 왼쪽 팔꿈치\n\n        if (cmp > 15) {\n          str = \"왼쪽 팔을 더 피세요\";\n          pressms.push(str);\n        }\n      }\n    } else {\n      str = '생략한 운동입니다';\n      pressms.push(str);\n    }\n\n    if (userAngle[4].angle[1] == 360) {\n      str = \"운동을 진행해주세요\";\n      treems.push(str);\n    } else {\n      //나무 자세\n      cmp = trainerAngle[4][\"1\"] - userAngle[4].angle[1]; //나무자세 오른쪽 허리\n\n      if (cmp < -10) {\n        str = \"상체를 조금 더 세우세요\";\n        treems.push(str);\n      }\n\n      cmp = 360 - trainerAngle[4][\"7\"] - (360 - userAngle[4].angle[7]); //나무자세 오른쪽 무릎  \n\n      if (cmp < -10) {\n        str = \"오른쪽 무릎을 위로 더 굽히세요\";\n        treems.push(str);\n      }\n    }\n\n    mistakes[0].squat = squatms;\n    mistakes[0].lungeL = lungeLms;\n    mistakes[0].lungeR = lungeRms;\n    mistakes[0].press = pressms;\n    mistakes[0].tree = treems;\n    setResult(mistakes);\n    setTimeout(() => {\n      setShowResults(true);\n    }, 3000);\n  };\n\n  useEffect(() => {\n    fetch(`https://smlistener.s3.ap-northeast-2.amazonaws.com/json/new_trainer_angle.json`).then(results => results.json()).then(json => {\n      setTrainer(json);\n      setLoading(true);\n    });\n  }, []);\n  useEffect(() => {\n    if (loading) {\n      analysis.map(exer => {\n        angle(exer);\n      });\n    }\n  }, [loading]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showResults && /*#__PURE__*/_jsxDEV(Wrapper1, {\n      children: [/*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Animated, {\n        children: [/*#__PURE__*/_jsxDEV(ExerciseResult, {\n          mistakes: result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 17\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }, this), !showResults && /*#__PURE__*/_jsxDEV(Wrapper2, {\n      children: /*#__PURE__*/_jsxDEV(Loading, {\n        children: /*#__PURE__*/_jsxDEV(LoadingBar, {\n          done: 100\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Check, \"t/wJ1Vs8DSJKdwKKnM6fPBAFdPs=\");\n\n_c5 = Check;\nexport default Check;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Wrapper1\");\n$RefreshReg$(_c2, \"Wrapper2\");\n$RefreshReg$(_c3, \"Loading\");\n$RefreshReg$(_c4, \"Spacer\");\n$RefreshReg$(_c5, \"Check\");","map":{"version":3,"sources":["C:/Users/awd63/Downloads/AIhomeTraining_web-master/AIhomeTraining_web-master/Listener/frontend/src/components/exercises/Check.js"],"names":["React","useState","useEffect","useSelector","styled","Animated","LoadingBar","Responsive","ExerciseResult","Wrapper1","div","Wrapper2","Loading","Spacer","Check","analysis","cntArr","showResults","setShowResults","trainerAngle","setTrainer","result","setResult","loading","setLoading","existS","existL","existP","mistakes","squat","lungeL","lungeR","press","tree","userAngle","exname","angle","exer","idx","inputX","x","inputY","y","push","Math","abs","atan2","PI","calculateAngle","map","item","cmp","str","squatms","lungeLms","lungeRms","pressms","treems","setTimeout","fetch","then","results","json"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport {Animated} from \"react-animated-css\";\nimport LoadingBar from '../common/LoadingBar';\nimport Responsive from '../common/Responsive';\nimport ExerciseResult from './ExerciseResult';\n\nconst Wrapper1 = styled.div`\n  position:relative;\n  text-align: center;\n`;\n\nconst Wrapper2 = styled.div`\nheight : 500px;\n  position:relative;\n  text-align: center;\n`;\n\nconst Loading = styled(Responsive)`\n    display: flex;\n    width: 100%;\n    align-items: center;\n\n`;\n\nconst Spacer = styled.div`\n  height: 5rem;\n  `;\n\nconst Check = ({analysis, cntArr}) => {\n    const [showResults, setShowResults] = useState(false);\n    const [trainerAngle, setTrainer] = useState([]);\n    const [result, setResult] = useState([]);\n    const [loading, setLoading] = useState(false);\n    let existS=1, existL=1, existP=1;\n    let mistakes = [   \n      {\n        squat: [],\n        lungeL: [],\n        lungeR: [],\n        press: [],\n        tree: []\n      }\n    ]\n    let userAngle = [\n      {\n        exname: \"스쿼트\",\n        angle: []\n      },\n      {\n        exname: \"사이드 런지 왼쪽\",\n        angle: []\n      },\n      {\n        exname: \"사이드 런지 오른쪽\",\n        angle: []\n      },\n      {\n        exname: \"숄더 프레스\",\n        angle: []\n      },\n      {\n        exname: \"나무 자세\",\n        angle: []\n      }\n    ];\n\n    const angle = (exer) => {   //user의 좌표로 8개의 인체 각도 계산\n      let idx = 0;\n      if(exer.exname == \"사이드 런지 왼쪽\"){\n        idx = 1;\n      }\n      else if(exer.exname == \"사이드 런지 오른쪽\"){\n        idx = 2;\n      }\n      else if(exer.exname == \"숄더프레스\"){\n        idx = 3;\n      }\n      else if(exer.exname == \"나무 자세\"){\n        idx = 4;\n      }\n      const inputX = exer.x, inputY = exer.y;\n      //왼쪽 허리 부분 (상체-하체)\n      userAngle[idx].angle.push((Math.abs(Math.atan2(inputY[13] - inputY[11], inputX[13] - inputX[11])) + Math.abs(Math.atan2(inputY[5] - inputY[11], inputX[5] - inputX[11]))) * (180 / Math.PI));\n      //오른쪽 허리 부분 (상체-하체)\n      userAngle[idx].angle.push(360 - (Math.abs(Math.atan2(inputY[14] - inputY[12], inputX[14] - inputX[12])) + Math.abs(Math.atan2(inputY[6] - inputY[12], inputX[6] - inputX[12]))) * (180 / Math.PI));\n      //왼쪽 상체 팔(겨드랑이 부분)\n      userAngle[idx].angle.push((Math.abs(Math.atan2(inputY[11] - inputY[5], inputX[11] - inputX[5])) + Math.abs(Math.atan2(inputY[7] - inputY[5], inputX[7] - inputX[5]))) * (180 / Math.PI));\n      //오른쪽 상체 팔(겨드랑이 부분)\n      userAngle[idx].angle.push(360 - (Math.abs(Math.atan2(inputY[8] - inputY[6], inputX[8] - inputX[6])) + Math.abs(Math.atan2(inputY[12] - inputY[6], inputX[12] - inputX[6]))) * (180 / Math.PI));\n      //왼쪽 팔꿈치\n      userAngle[idx].angle.push((Math.abs(Math.atan2(inputY[9] - inputY[7], inputX[9] - inputX[7])) + Math.abs(Math.atan2(inputY[5] - inputY[7], inputX[5] - inputX[7]))) * (180 / Math.PI));\n      //오른쪽 팔꿈치 \n      userAngle[idx].angle.push(360 - (Math.abs(Math.atan2(inputY[10] - inputY[8], inputX[10] - inputX[8])) + Math.abs(Math.atan2(inputY[6] - inputY[8], inputX[6] - inputX[8]))) * (180 / Math.PI));\n      //왼쪽 무릎\n      userAngle[idx].angle.push((Math.abs((Math.atan2(inputY[15] - inputY[13], inputX[15] - inputX[13])) + Math.abs(Math.atan2(inputY[11] - inputY[13], inputX[11] - inputX[13])))) * (180 / Math.PI));\n      //오른쪽 무릎\n      userAngle[idx].angle.push(360 - (Math.abs((Math.atan2(inputY[16] - inputY[14], inputX[16] - inputX[14])) + Math.abs(Math.atan2(inputY[12] - inputY[14], inputX[12] - inputX[14])))) * (180 / Math.PI));\n\n     \n      if(idx == 4){\n        calculateAngle();\n      }\n    };\n\n    const calculateAngle = () => {\n       //자세 분석 결과 저장\n      cntArr.map(item => {\n        if(item == 0) {\n          existS = 0;\n        } else if(item == 1 || item == 2){\n          existL = 0;\n        } else if(item == 3)  {\n          existP = 0;\n        }\n      });\n      let cmp = 0.0; //각도 차\n      let str = \"\";\n      let squatms = [], lungeLms = [], lungeRms = [], pressms = [], treems = [];\n      if(existS){\n        if(userAngle[0].angle[0] == 0){\n          str = \"운동을 진행해주세요\";\n          squatms.push(str);\n        } else {     //스쿼트\n          cmp = (360-trainerAngle[0][\"0\"]) - (360-userAngle[0].angle[0]);   //스쿼트 허리 계산\n          if(cmp > 15){\n            str = \"상체를 조금 더 세우세요\";\n            squatms.push(str);\n          } \n          else if(cmp < -15){\n            str = \"상체를 조금 더 굽히세요\";\n            squatms.push(str);\n          } \n          cmp = trainerAngle[0][\"6\"] - userAngle[0].angle[6]; //스쿼트 무릎 계산\n          if(cmp > 15){\n            str = \"엉덩이를 조금 더 드세요\";\n            squatms.push(str);\n          }\n          else if(cmp < -15){\n            str = \"엉덩이를 조금 더 내리세요\";\n            squatms.push(str);\n          }\n        }\n      } else {\n        str = '생략한 운동입니다';\n        squatms.push(str);\n      }\n      if(existL){\n        if(userAngle[1].angle[6] == 0){\n          str = \"운동을 진행해주세요\";\n          lungeLms.push(str);\n        } else {\n          //사이드 런지 왼쪽\n          cmp = (360-trainerAngle[1][\"6\"]) - (360-userAngle[1].angle[6]);  //런지 왼쪽 무릎\n          if(cmp < -15){\n            str = \"왼쪽 무릎을 조금 더 굽히세요\";\n            lungeLms.push(str);\n          } \n          cmp = (360-trainerAngle[1][\"7\"]) - (360-userAngle[1].angle[7]);   /// 런지 오른쪽 무릎\n          if(cmp > 15 || cmp < -15){\n            str = \"오른쪽 무릎을 조금 더 피세요\";\n            lungeLms.push(str);\n          }\n        }\n        if(userAngle[2].angle[6] == 0){\n          str = \"운동을 진행해주세요\";\n          lungeRms.push(str);\n        } else {\n          //사이드 런지 오른쪽\n          cmp = (360-trainerAngle[2][\"6\"]) - (360-userAngle[2].angle[6]);  //런지 왼쪽 무릎\n          if(cmp > 15 || cmp < -15){\n            str = \"왼쪽 무릎을 조금 더 피세요\";\n            lungeRms.push(str);\n          }\n          cmp = (360-trainerAngle[2][\"7\"]) - (360-userAngle[2].angle[7]);   //런지 오른쪽 무릎\n          if(cmp < -15){\n            str = \"오른쪽 무릎을 조금 더 굽히세요\";\n            lungeRms.push(str);\n          }\n        }\n      } else {\n        str = '생략한 운동입니다';\n        lungeLms.push(str);\n        lungeRms.push(str);\n      }\n\n      if(existP){\n        if(userAngle[3].angle[3] == 360){\n          str = \"운동을 진행해주세요\";\n          pressms.push(str);\n        } else {\n          //숄더 프레스\n          cmp = trainerAngle[3][\"3\"] - userAngle[3].angle[3];  //프레스 오른쪽 겨드랑이\n          if(cmp > 15){\n            str = \"오른쪽 팔을 더 올리세요\";\n            pressms.push(str);\n          }\n          cmp = trainerAngle[3][\"2\"] - userAngle[3].angle[2];  //프레스 왼쪽 겨드랑이\n          if(cmp > 15){\n            str = \"왼쪽 팔을 더 올리세요\";\n            pressms.push(str);\n          }\n          cmp = (360-trainerAngle[3][\"5\"]) - (360-userAngle[3].angle[5]);   //프레스 오른쪽 팔꿈치\n          if(cmp > 15){\n            str = \"오른쪽 팔을 더 피세요\";\n            pressms.push(str);\n          }\n          cmp = (360-trainerAngle[3][\"4\"]) - (360-userAngle[3].angle[4]);   //프레스 왼쪽 팔꿈치\n          if(cmp > 15){\n            str = \"왼쪽 팔을 더 피세요\";\n            pressms.push(str);\n          }\n        }\n      } else {\n        str = '생략한 운동입니다';\n        pressms.push(str);\n      }\n      if(userAngle[4].angle[1] == 360){\n        str = \"운동을 진행해주세요\";\n        treems.push(str);\n      } else {\n        //나무 자세\n        cmp = trainerAngle[4][\"1\"] - userAngle[4].angle[1];   //나무자세 오른쪽 허리\n        if(cmp < -10){\n          str = \"상체를 조금 더 세우세요\";\n          treems.push(str);\n        }\n        cmp = (360-trainerAngle[4][\"7\"]) - (360-userAngle[4].angle[7]);   //나무자세 오른쪽 무릎  \n        if(cmp < -10){\n          str = \"오른쪽 무릎을 위로 더 굽히세요\";\n          treems.push(str);\n        }\n      }\n      \n      mistakes[0].squat = squatms;\n      mistakes[0].lungeL = lungeLms;\n      mistakes[0].lungeR = lungeRms;\n      mistakes[0].press = pressms;\n      mistakes[0].tree = treems;\n      setResult(mistakes);\n      setTimeout(()=> {\n        setShowResults(true);\n      }, 3000);\n    }\n\n    useEffect(() => {\n        fetch(`https://smlistener.s3.ap-northeast-2.amazonaws.com/json/new_trainer_angle.json`)\n        .then(results => results.json())\n        .then(json => {\n           setTrainer(json);\n           setLoading(true);\n        })\n    }, [])   \n    \n    useEffect(() => {\n      if(loading){\n        analysis.map(exer => {\n          angle(exer);\n        });\n      }\n    }, [loading])\n\n    \n  return (\n    <>\n    {showResults && <Wrapper1> \n      <Spacer/>\n      <Animated><ExerciseResult mistakes = {result} /> </Animated>\n    </Wrapper1>}\n    {!showResults &&<Wrapper2>\n      <Loading>\n         <LoadingBar done={100}/>\n      </Loading>\n      </Wrapper2>}  \n      </>\n  )\n};\n\n\nexport default Check;"]},"metadata":{},"sourceType":"module"}